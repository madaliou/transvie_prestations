{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["file:///Users/madaliou/Web/transvie-prestations/frontend/src/app/%28auth%29/register/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\n\nexport default function RegisterPage() {\n  const router = useRouter();\n  const [firstname, setFirstname] = useState('');\n  const [lastname, setLastname] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [message, setMessage] = useState('');\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    const payload = { firstname, lastname, email, password };\n\n    try {\n      const res = await fetch('http://localhost:3001/api/register', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(payload),\n      });\n\n      const data = await res.json();\n\n      if (res.ok) {\n        setMessage('✅ Compte créé avec succès ! Redirection...');\n        setTimeout(() => {\n          router.push('/login');\n        }, 2000);\n      } else {\n        setMessage(data.message || '❌ Une erreur est survenue.');\n      }\n    } catch (error) {\n      setMessage('❌ Erreur lors de la requête.');\n    }\n  };\n\n  return (\n    <main className=\"flex flex-col justify-center min-h-screen px-6 py-12 lg:px-8 bg-white\">\n      <div className=\"sm:mx-auto sm:w-full sm:max-w-sm\">\n        <img className=\"mx-auto h-20 w-auto\" src=\"/logo.webp\" alt=\"Transvie\" />\n        <h2 className=\"mt-6 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900\">\n          Créer un compte\n        </h2>\n      </div>\n\n      <div className=\"mt-8 sm:mx-auto sm:w-full sm:max-w-sm\">\n        {message && (\n          <div className=\"mb-4 text-center text-sm text-red-600\">\n            {message}\n          </div>\n        )}\n\n        <form className=\"space-y-6\" onSubmit={handleSubmit}>\n          <div>\n            <label htmlFor=\"firstname\" className=\"block text-sm font-medium leading-6 text-gray-900\">\n              Prénom\n            </label>\n            <div className=\"mt-2\">\n              <input\n                id=\"firstname\"\n                name=\"firstname\"\n                type=\"text\"\n                required\n                value={firstname}\n                onChange={(e) => setFirstname(e.target.value)}\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset \n                ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 \n                sm:text-sm sm:leading-6\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label htmlFor=\"lastname\" className=\"block text-sm font-medium leading-6 text-gray-900\">\n              Nom\n            </label>\n            <div className=\"mt-2\">\n              <input\n                id=\"lastname\"\n                name=\"lastname\"\n                type=\"text\"\n                required\n                value={lastname}\n                onChange={(e) => setLastname(e.target.value)}\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset \n                ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 \n                sm:text-sm sm:leading-6\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label htmlFor=\"email\" className=\"block text-sm font-medium leading-6 text-gray-900\">\n              Adresse email\n            </label>\n            <div className=\"mt-2\">\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"email\"\n                autoComplete=\"email\"\n                required\n                value={email}\n                onChange={(e) => setEmail(e.target.value)}\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset \n                ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 \n                sm:text-sm sm:leading-6\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <label htmlFor=\"password\" className=\"block text-sm font-medium leading-6 text-gray-900\">\n              Mot de passe\n            </label>\n            <div className=\"mt-2\">\n              <input\n                id=\"password\"\n                name=\"password\"\n                type=\"password\"\n                required\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset \n                ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 \n                sm:text-sm sm:leading-6\"\n              />\n            </div>\n          </div>\n\n          <div>\n            <button\n              type=\"submit\"\n              className=\"flex w-full justify-center rounded-md bg-indigo-600 px-3 py-1.5 text-sm font-semibold \n              leading-6 text-white shadow-sm hover:bg-indigo-500 focus-visible:outline focus-visible:outline-2 \n              focus-visible:outline-offset-2 focus-visible:outline-indigo-600\"\n            >\n              S'inscrire\n            </button>\n          </div>\n        </form>\n\n        <p className=\"mt-6 text-center text-sm text-gray-500\">\n          Vous avez déjà un compte ?{' '}\n          <Link href=\"/login\" className=\"font-semibold leading-6 text-indigo-600 hover:text-indigo-500\">\n            Se connecter\n          </Link>\n        </p>\n      </div>\n    </main>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC3C,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEvC,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAEhB,MAAM,UAAU;YAAE;YAAW;YAAU;YAAO;QAAS;QAEvD,IAAI;YACF,MAAM,MAAM,MAAM,MAAM,sCAAsC;gBAC5D,QAAQ;gBACR,SAAS;oBAAE,gBAAgB;gBAAmB;gBAC9C,MAAM,KAAK,SAAS,CAAC;YACvB;YAEA,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,IAAI,EAAE,EAAE;gBACV,WAAW;gBACX,WAAW;oBACT,OAAO,IAAI,CAAC;gBACd,GAAG;YACL,OAAO;gBACL,WAAW,KAAK,OAAO,IAAI;YAC7B;QACF,EAAE,OAAO,OAAO;YACd,WAAW;QACb;IACF;IAEA,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;wBAAsB,KAAI;wBAAa,KAAI;;;;;;kCAC1D,8OAAC;wBAAG,WAAU;kCAA6E;;;;;;;;;;;;0BAK7F,8OAAC;gBAAI,WAAU;;oBACZ,yBACC,8OAAC;wBAAI,WAAU;kCACZ;;;;;;kCAIL,8OAAC;wBAAK,WAAU;wBAAY,UAAU;;0CACpC,8OAAC;;kDACC,8OAAC;wCAAM,SAAQ;wCAAY,WAAU;kDAAoD;;;;;;kDAGzF,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,QAAQ;4CACR,OAAO;4CACP,UAAU,CAAC,IAAM,aAAa,EAAE,MAAM,CAAC,KAAK;4CAC5C,WAAU;;;;;;;;;;;;;;;;;0CAOhB,8OAAC;;kDACC,8OAAC;wCAAM,SAAQ;wCAAW,WAAU;kDAAoD;;;;;;kDAGxF,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,QAAQ;4CACR,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;;;;;;;;;;;;;;;;;0CAOhB,8OAAC;;kDACC,8OAAC;wCAAM,SAAQ;wCAAQ,WAAU;kDAAoD;;;;;;kDAGrF,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,cAAa;4CACb,QAAQ;4CACR,OAAO;4CACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;4CACxC,WAAU;;;;;;;;;;;;;;;;;0CAOhB,8OAAC;;kDACC,8OAAC;wCAAM,SAAQ;wCAAW,WAAU;kDAAoD;;;;;;kDAGxF,8OAAC;wCAAI,WAAU;kDACb,cAAA,8OAAC;4CACC,IAAG;4CACH,MAAK;4CACL,MAAK;4CACL,QAAQ;4CACR,OAAO;4CACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;4CAC3C,WAAU;;;;;;;;;;;;;;;;;0CAOhB,8OAAC;0CACC,cAAA,8OAAC;oCACC,MAAK;oCACL,WAAU;8CAGX;;;;;;;;;;;;;;;;;kCAML,8OAAC;wBAAE,WAAU;;4BAAyC;4BACzB;0CAC3B,8OAAC,4JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAS,WAAU;0CAAgE;;;;;;;;;;;;;;;;;;;;;;;;AAOxG","debugId":null}}]
}